# This configuration file was generated by `ameba --gen-config`
# on 2025-01-07 14:00:00 UTC using Ameba version 1.6.0.
# The point is for the user to remove these configuration records
# one by one as the reported problems are removed from the code base.

# A complete description of all rule properties can be found
# at https://crystal-ameba.github.io/ameba/
#
# Globs are parsed by Crystal itself and follow the same behavior as `Dir.glob`.
Excluded:
  # Exclude files or directories
  - spec
  - bin
  - lib
  - db
  - config
  - tmp
  # Exclude file by its path:
  # - src/compiler/crystal/tools/format.cr

# This section contains configuration for rules which are enabled by default.
# Comment out of the config to disable a rule (or use `Enabled: false`).

# If a method call is the entire body of a block, it is redundant.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Style/RedundantBlockArgument.html
Style/RedundantBlockArgument:
  Description: Disallows redundant block arguments
  Enabled: true
  Severity: Convention

# A rule that disallows empty ensure statement.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Lint/EmptyEnsure.html
Lint/EmptyEnsure:
  Description: Disallows empty ensure statement
  Enabled: true
  Severity: Warning

# A rule that enforces method names to be in underscored case.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Naming/MethodNames.html
Naming/MethodNames:
  Description: Enforces method names to be in underscored case
  Enabled: true
  Severity: Convention

# This is a rule that checks if variables are used.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Lint/UnusedArgument.html
Lint/UnusedArgument:
  Description: Disallows unused arguments
  Enabled: true
  Severity: Warning
  IgnoreDefs: true
  IgnoreBlocks: false
  IgnoreProcs: false

# Identifies comparisons between variables and the nil literal.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Style/IsANil.html
Style/IsANil:
  Description: Disallows comparison to nil
  Enabled: true
  Severity: Convention

# This rule is used to identify usages of `unless` with a negated condition.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Style/UnlessElse.html
Style/UnlessElse:
  Description: Disallows negated conditions in unless
  Enabled: true
  Severity: Convention

# Max line length
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Metrics/CyclomaticComplexity.html
Layout/LineLength:
  Description: Disallows lines longer than MaxLength number of symbols
  Enabled: true
  Severity: Convention
  MaxLength: 120

# Disallow large numbers without underscores
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Style/LargeNumbers.html
Style/LargeNumbers:
  Description: Disallows large numbers without underscores
  Enabled: true
  Severity: Convention
  IntMinDigits: 5

# A rule that disallows unused block arguments.
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Lint/UnusedBlockArgument.html
Lint/UnusedBlockArgument:
  Description: Disallows unused block arguments
  Enabled: true
  Severity: Warning

# Identifies usage of `is_a?` in conditional
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Performance/AnyInsteadOfEmpty.html
Performance/AnyInsteadOfEmpty:
  Description: Identifies usage of arg-less `any?` calls
  Enabled: true
  Severity: Convention

# This rule checks for methods that return nil
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Naming/BlockParameterName.html
Naming/BlockParameterName:
  Description: Disallows non-descriptive block parameter names
  Enabled: true
  Severity: Convention
  MinNameLength: 3
  AllowNamesEndingInNumbers: true

# Disables rules for test/spec files
# https://crystal-ameba.github.io/ameba/Ameba/Rule/Metrics/CyclomaticComplexity.html
Metrics/CyclomaticComplexity:
  Description: Disallows methods with a cyclomatic complexity higher than MaxComplexity
  Enabled: true
  Severity: Convention
  MaxComplexity: 10
  Excluded:
    - spec

# Spec-specific configurations
Naming/PredicateName:
  Enabled: true
  Severity: Convention
  Excluded:
    - spec

# Documentation enforcement (disabled for now)
Documentation/DocumentationAdmonition:
  Enabled: false
  
Style/PredicateName:
  Enabled: true
  Severity: Convention
  
Naming/ConstantNames:
  Enabled: true
  Severity: Convention

# Performance rules
Performance/CompactAfterMap:
  Enabled: true
  Severity: Convention

Performance/FlattenAfterMap:
  Enabled: true
  Severity: Convention

Performance/MapInsteadOfBlock:
  Enabled: true
  Severity: Convention

Performance/SizeAfterFilter:
  Enabled: true
  Severity: Convention

# Lint rules
Lint/DebugCalls:
  Enabled: true
  Severity: Warning

Lint/LiteralAssignmentsInExpressions:
  Enabled: true
  Severity: Warning

Lint/ShadowingOuterLocalVar:
  Enabled: true
  Severity: Warning

Lint/UselessAssign:
  Enabled: true
  Severity: Warning

# Style rules
Style/NegatedConditionsInUnless:
  Enabled: true
  Severity: Convention

Style/ParenthesesAroundCondition:
  Enabled: true
  Severity: Convention

Style/RedundantBegin:
  Enabled: true
  Severity: Convention

Style/RedundantReturn:
  Enabled: true
  Severity: Convention

Style/VerboseBlock:
  Enabled: true
  Severity: Convention